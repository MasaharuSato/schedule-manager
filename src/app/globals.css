@import "tailwindcss";

:root {
  --color-amber: #C8920A;
  --color-amber-light: #DAA520;
  --color-amber-dark: #A67808;
  --color-bg: #121212;
  --color-bg-secondary: #1E1E1E;
  --color-text: #E8E8E8;
  --color-text-secondary: #888888;
  --color-border: #2A2A2A;
  --color-surface: #181818;
  --color-surface-elevated: #1E1E1E;
  --color-surface-highlight: #2A2A2A;
  --color-task-oneoff: #3B82F6;
  --color-task-oneoff-muted: #1E3A5F;
  --color-task-regular: #DC2626;
  --color-task-regular-muted: #5C1A1A;
}

@theme inline {
  --color-amber: var(--color-amber);
  --color-amber-light: var(--color-amber-light);
  --color-amber-dark: var(--color-amber-dark);
  --color-bg: var(--color-bg);
  --color-bg-secondary: var(--color-bg-secondary);
  --color-text-primary: var(--color-text);
  --color-text-secondary: var(--color-text-secondary);
  --color-border: var(--color-border);
  --color-surface: var(--color-surface);
  --color-surface-elevated: var(--color-surface-elevated);
  --color-surface-highlight: var(--color-surface-highlight);
  --color-task-oneoff: var(--color-task-oneoff);
  --color-task-oneoff-muted: var(--color-task-oneoff-muted);
  --color-task-regular: var(--color-task-regular);
  --color-task-regular-muted: var(--color-task-regular-muted);
}

* {
  -webkit-tap-highlight-color: transparent;
}

html, body {
  overflow-x: hidden;
  width: 100%;
}

body {
  background: var(--color-bg);
  color: var(--color-text);
  font-family: "Noto Serif JP", "Yu Mincho", YuMincho, "Hiragino Mincho ProN",
    "Hiragino Mincho Pro", "MS PMincho", serif;
  -webkit-font-smoothing: antialiased;
  overscroll-behavior: none;
  font-size: 16px;
}

/* iPhone safe area */
.safe-bottom {
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 5.5rem);
}

.nav-safe-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* --- Animations --- */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes sheetUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes sheetDown {
  from { transform: translateY(0); }
  to { transform: translateY(100%); }
}

@keyframes checkPop {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes expand {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 2000px; }
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out both;
}

.animate-slide-in-right {
  animation: slideInRight 0.25s ease-out both;
}

.animate-slide-in-left {
  animation: slideInLeft 0.25s ease-out both;
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out both;
}

.animate-sheet-up {
  animation: sheetUp 0.3s cubic-bezier(0.32, 0.72, 0, 1) both;
}

.animate-sheet-down {
  animation: sheetDown 0.3s cubic-bezier(0.32, 0.72, 0, 1) both;
}

.animate-check-pop {
  animation: checkPop 0.2s ease-out;
}

/* ── Apple Notes tokens (dark mode) ── */
:root {
  --notes-bg: #000000;
  --notes-surface: #1C1C1E;
  --notes-cell-active: rgba(255, 255, 255, 0.05);
  --notes-separator: rgba(255, 255, 255, 0.08);
  --notes-primary: #FFFFFF;
  --notes-secondary: #8E8E93;
  --notes-tertiary: #636366;
  --notes-quaternary: rgba(255, 255, 255, 0.18);
  --notes-search-bg: rgba(255, 255, 255, 0.08);
  --notes-nav-bg: rgba(0, 0, 0, 0.72);
}

.notes-page {
  background: var(--notes-bg);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, "Helvetica Neue", sans-serif;
}

.notes-font {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, "Helvetica Neue", sans-serif;
}

.notes-nav-bar { background: var(--notes-nav-bg); }
.notes-search-bg { background: var(--notes-search-bg); }
.notes-separator-line { background: var(--notes-separator); }

.notes-cell {
  background: var(--notes-bg);
}
.notes-cell:active {
  background: var(--notes-cell-active);
}

.notes-page input::placeholder,
.notes-page textarea::placeholder {
  color: var(--notes-quaternary);
}

/* Notes scroll — GPU-promoted layer, inertial */
.notes-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: none;
  overscroll-behavior-y: auto;
  transform: translateZ(0);
  will-change: transform;
}

/* iOS push/pop transitions — 220ms ease-out, transform-only */
@keyframes notesPushIn {
  from { transform: translate3d(100%, 0, 0); }
  to { transform: translate3d(0, 0, 0); }
}
@keyframes notesPopIn {
  from { transform: translate3d(-20%, 0, 0); opacity: 0.5; }
  to { transform: translate3d(0, 0, 0); opacity: 1; }
}

.notes-push-in {
  animation: notesPushIn 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  will-change: transform;
}
.notes-pop-in {
  animation: notesPopIn 0.22s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  will-change: transform, opacity;
}

/* Header gradient */
.header-gradient {
  background: linear-gradient(
    180deg,
    rgba(200, 146, 10, 0.12) 0%,
    var(--color-surface) 100%
  );
}
